<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>03-css变量切换</title>
  </head>

  <script>
    function changeTheme(theme) {
      document.body.className = theme;
    }

    window.onload = () => {
      changeTheme('light');
    };
  </script>

  <style>
    /* 定义根作用域下的变量 */
    :root {
      --theme-color: #333;
      --theme-background: #eee;
    }

    /* 更改dark类名下变量的取值 */
    .dark {
      --theme-color: #eee;
      --theme-background: #333;
    }

    /* 更改pink类名下变量的取值 */
    .pink {
      --theme-color: #fff;
      --theme-background: pink;
    }

    .box {
      transition: all 0.2s;
      width: 100px;
      height: 100px;
      border: 1px solid #000;
      color: var(--theme-color);
      background: var(--theme-background);
    }
  </style>

  <!-- 
    优点:
        不用重新加载样式文件，在样式切换时不会有卡顿
        在需要切换主题的地方利用var()绑定变量即可，不存在优先级问题
        新增或修改主题方便灵活，仅需新增或修改CSS变量即可，在var()绑定样式变量的地方就会自动更换

    缺点:
        首屏加载时会牺牲一些时间加载样式资源
  -->

  <body>
    <div style="display: flex; justify-content: center">
      <button onclick="changeTheme('light')">light</button>
      <button onclick="changeTheme('dark')" style="margin-left: 20px">dark</button>
      <button onclick="changeTheme('pink')" style="margin-left: 20px">pink</button>
    </div>
    <hr />

    <div class="box">
      <p>hello</p>
    </div>
  </body>
</html>
